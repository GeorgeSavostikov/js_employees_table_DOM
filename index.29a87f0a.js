function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||n(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);if("Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,n)}}var a=document.querySelector("table"),o="";a.addEventListener("click",function(e){var n=document.querySelector("tbody"),r=t(n.rows),i=document.createElement("tbody"),l=e.target.closest("thead"),c=[];if(l){var s=r.map(function(e){return{name:e.cells[0].textContent,position:e.cells[1].textContent,office:e.cells[2].textContent,age:e.cells[3].textContent,salary:e.cells[4].textContent}});switch(n.remove(),a.tHead.after(i),e.target.textContent){case"Name":if(c=t(s).sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}),"Name"===o){c.reverse(),o="";break}o=e.target.textContent;break;case"Position":if(c=t(s).sort(function(e,t){return e.position.toLowerCase().localeCompare(t.position.toLowerCase())}),"Position"===o){c.reverse(),o="";break}o=e.target.textContent;break;case"Office":if(c=t(s).sort(function(e,t){return e.office.toLowerCase().localeCompare(t.office.toLowerCase())}),"Office"===o){c.reverse(),o="";break}o=e.target.textContent;break;case"Age":if(c=t(s).sort(function(e,t){return+e.age-+t.age}),"Age"===o){c.reverse(),o="";break}o=e.target.textContent;break;case"Salary":if(c=t(s).sort(function(e,t){return+e.salary.slice(1).split(",").join("")-+t.salary.slice(1).split(",").join("")}),"Salary"===o){c.reverse(),o="";break}o=e.target.textContent;break;default:c=t(s)}c.map(function(e){var t=document.createElement("tr");for(var n in e){var a=document.createElement("td");a.textContent=e[n],t.append(a)}return t}).forEach(function(e){i.append(e)})}}),document.querySelectorAll("tbody tr").forEach(function(e){e.addEventListener("click",function(){document.querySelectorAll("tbody tr").forEach(function(e){e.classList.remove("active")}),e.classList.add("active")})}),document.querySelectorAll("td").forEach(function(e){e.addEventListener("dblclick",function(){var t=document.createElement("input");t.className="cell-input",t.value=e.textContent,t.defaultValue=e.textContent,e.textContent="",e.appendChild(t),t.focus(),t.addEventListener("blur",function(){e.textContent=t.value||t.defaultValue,t.remove()}),t.addEventListener("keypress",function(n){"Enter"===n.key&&(e.textContent=t.value||t.defaultValue,t.remove())})})});var r=document.createElement("form");r.className="new-employee-form",r.innerHTML='\n  <label>Name: <input name="name" type="text" data-qa="name"></label>\n  <label>Position: <input name="position" type="text" data-qa="position"></label>\n  <label>Office:\n    <select name="office" data-qa="office">\n      <option value="Tokyo">Tokyo</option>\n      <option value="Singapore">Singapore</option>\n      <option value="London">London</option>\n      <option value="New York">New York</option>\n      <option value="Edinburgh">Edinburgh</option>\n      <option value="San Francisco">San Francisco</option>\n    </select>\n  </label>\n  <label>Age: <input name="age" type="number" data-qa="age"></label>\n  <label>Salary: <input name="salary" type="number" data-qa="salary"></label>\n  <button type="submit">Save to table</button>\n  ',document.body.append(r),r.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(r),o=document.createElement("tr"),l=!0,c=!1,s=void 0;try{for(var u,d=t[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var f,m=(f=u.value,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n,a,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(r.push(n.value),2!==r.length);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw a}}return r}}(f,2)||n(f,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=m[0],y=m[1];if("name"===p&&y.length<4||!y||"age"===p&&(y<18||y>90)){i(p,y);return}var b=document.createElement("td");if(b.textContent=y,"salary"===p&&y>0){var v=+y;b.textContent="$".concat(v.toLocaleString("en-US"))}o.append(b)}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}i("great"),a.tBodies[0].append(o)});var i=function(e,t){var n=document.createElement("div"),a=document.createElement("h2"),o=document.createElement("p");switch(n.setAttribute("data-qa","notification"),a.classList.add("title"),e){case"name":n.classList.add("notification","error"),a.textContent="Title of Error message",o.textContent='The "name" field must contain at least 4 characters.';break;case"age":if(n.classList.add("notification","error"),a.textContent="Title of Error message",t<18){o.textContent="You must be at least 18 years old.";break}if(t>90){o.textContent="You are too old";break}o.textContent='The "age" field must not be empty.';break;case"great":n.classList.add("notification","success"),a.textContent="Title of Success message",o.textContent="Data has been successfully added to the table!";break;default:n.classList.add("notification","error"),a.textContent="Title of Error message",o.textContent='The "'.concat(e,'" field must not be empty.')}n.prepend(a),n.append(o),n.style.top="450px",n.style.right="10px",document.body.append(n),setTimeout(function(){return n.style.visibility="hidden"},2e3)};
//# sourceMappingURL=index.29a87f0a.js.map
